# 🏰 3D 타워 디펜스 (3D Tower Defense)

Unity 엔진으로 개발한 3D 타워 디펜스 게임 포트폴리오 프로젝트입니다.

## 📖 프로젝트 개요

이 게임은 전략적인 타워 배치를 통해 몰려오는 적들의 웨이브를 막아내는 클래식한 타워 디펜스 장르를 3D 환경에서 구현한 것입니다. 플레이어는 제한된 자원을 활용하여 타워를 건설하고, 적들의 경로를 예측하여 최적의 방어선을 구축해야 합니다. 이 프로젝트는 게임의 핵심 로직을 구성하는 주요 알고리즘과 시스템 아키텍처 설계를 중심으로 개발되었습니다.

## ✨ 주요 기능

*   **전략적 타워 건설**: 각기 다른 사거리와 공격 능력을 가진 타워들을 맵에 배치할 수 있습니다.
*   **적 웨이브 시스템**: 정해진 스폰 지점에서 생성된 적들이 웨이포인트를 따라 목표 지점까지 이동합니다.
*   **자원 관리 시스템**: 적을 처치하면 재화를 획득하며, 이 재화로 새로운 타워를 건설하거나 기존 타워를 강화할 수 있습니다.
*   **그리드 기반 레벨 디자인**: 타일 형태의 그리드로 구성된 맵 위에서 게임이 진행되어 직관적인 플레이를 제공합니다.
*   **성능 최적화**: 오브젝트 풀링 기법을 적용하여 적 생성 및 제거 시 발생하는 부하를 최소화했습니다.

## 🧠 핵심 알고리즘 및 구현

이 프로젝트는 게임의 핵심 메커니즘을 구동하기 위해 다음과 같은 알고리즘을 구현했습니다.

### 1. 최단 거리 우선 타겟팅 알고리즘 (Closest-First Targeting)

*   **설명**: 타워는 자신의 사정거리 내에 있는 적들 중 가장 가까운 적을 우선적으로 공격 목표로 삼습니다.
*   **구현 (`TargetLocator.cs`)**:
    1.  `FindObjectsOfType<EnemyMover>()`를 호출하여 씬에 존재하는 모든 적의 목록을 가져옵니다.
    2.  각 적과 타워 사이의 거리를 `Vector3.Distance()`로 계산합니다.
    3.  반복문을 통해 거리를 비교하며 가장 작은 거리 값을 가진 적(`closestTarget`)을 찾습니다.
    4.  `closestTarget`이 타워의 사정거리(`range`) 안에 들어올 경우, 파티클 시스템을 활성화하여 공격을 시작합니다.

### 2. 웨이포인트 기반 경로 이동 (Waypoint-based Pathfinding)

*   **설명**: 적들은 미리 지정된 경로(Waypoint)를 따라 순차적으로 이동합니다. 복잡한 길찾기 연산 없이 정해진 길을 따라 움직이므로, 다수의 유닛을 효율적으로 처리할 수 있습니다.
*   **구현 (`EnemyMover.cs`)**:
    1.  `"Path"` 태그를 가진 부모 오브젝트 하위의 모든 `Waypoint`를 찾아 리스트에 저장합니다.
    2.  `StartCoroutine(FollowPath())`를 통해 경로 이동 로직을 시작합니다.
    3.  `foreach` 문으로 각 웨이포인트를 순회하며, 현재 위치에서 다음 웨이포인트까지 `Vector3.Lerp`를 사용하여 부드럽게 위치를 보간합니다.
    4.  경로의 마지막에 도달한 적은 목표를 달성한 것으로 처리되고 비활성화됩니다.

### 3. 오브젝트 풀링 패턴 (Object Pooling Pattern)

*   **설명**: 게임 중에 반복적으로 생성되고 파괴되는 오브젝트(주로 적 유닛)를 미리 정해진 개수만큼 생성해 '풀(Pool)'에 저장해두고, 필요할 때마다 재활용하는 디자인 패턴입니다. `Instantiate()`와 `Destroy()` 호출을 최소화하여 가비지 컬렉션으로 인한 성능 저하(Spike)를 방지합니다.
*   **구현 (`ObjectPool.cs`)**:
    1.  `Awake()`에서 `poolSize`만큼 적 프리팹을 미리 `Instantiate()`하여 풀(`pool`) 배열에 저장하고 모두 비활성화(`SetActive(false)`)합니다.
    2.  `SpawnEnemy()` 코루틴이 `spawnTime` 간격으로 반복 실행됩니다.
    3.  `EnableObjectInPool()` 함수는 풀을 순회하며 비활성화 상태인 오브젝트를 찾아 `SetActive(true)`로 전환하고 즉시 반환합니다. 이를 통해 새로운 오브젝트를 생성하지 않고 기존 오브젝트를 재활용합니다.

## ⚙️ 시스템 아키텍처

이 게임은 각 기능이 컴포넌트 기반으로 명확하게 분리되어 상호작용하는 구조로 설계되었습니다.

*   **Game Flow**: `ObjectPool`이 적을 스폰하면, 해당 적의 `EnemyMover`가 `Waypoint` 경로를 따라 이동을 시작합니다. 타워의 `TargetLocator`는 범위 내의 적을 감지하고 `Tower` 컴포넌트가 공격을 수행합니다. 적이 공격을 받으면 `EnemyHealth`가 체력을 처리하고, 체력이 0이 되면 `Bank`에 재화를 추가한 후 적은 다시 `ObjectPool`로 반환(비활성화)됩니다.
*   **주요 컴포넌트 상호작용**:
    *   `ObjectPool` → `EnemyMover`: 적 오브젝트를 활성화하여 게임 월드에 등장시킴.
    *   `TargetLocator` → `EnemyMover`: 이동 중인 적의 위치를 지속적으로 추적.
    *   `Tower` → `EnemyHealth`: 감지된 적에게 피해를 입힘.
    *   `EnemyHealth` → `Bank`: 적이 파괴될 때 재화 획득 신호를 보냄.

## 🚀 실행 방법

1.  Unity Hub를 통해 이 프로젝트를 엽니다.
2.  `Assets/Levels` 폴더에 있는 레벨 씬 (`Level 0.unity`, `GrassLevel.unity` 등) 중 하나를 엽니다.
3.  Unity 에디터의 'Play' 버튼을 눌러 게임을 실행합니다.
